\subsection{Formato de archivo}

Un archivo de fluidos contiene toda la información del estado del fluido en un
punto determinado del tiempo. Los archivos se almacenan en formato binario con
los siguientes requisitos:

\begin{itemize}
\item \textmark{Entero}: Todos los valores enteros utilizan 4 bytes.
\item \textmark{Coma flotante}: Todos los valores en coma flotante utilizan
representación IEEE-754 de simple precisión.
\end{itemize}

Un archivo está formado por una \textgood{cabecera} y un \textgood{cuerpo}. La
cabecera incluye información general mientras que el cuerpo contiene información
de cada partícula del fluido.

La cabecera contiene los campos especificados en la tabla~\ref{tab:file-header}.

\begin{table}[htbp]
\begin{center}
\begin{tabular}{|l|l|l|}
\hline
Campo & Tipo & Descripción\\
\hline
\hline

\textgood{ppm} & \textemph{Coma flotante} &
Partículas por metro\\
\hline

\textgood{np} & \textemph{Entero} &
Número de partículas\\
\hline
\end{tabular}
\end{center}
\caption{Campos en la cabecera del archivo.}
\label{tab:file-header}
\end{table}

Ten en cuenta que el \textmark{número de partículas} especifica cuantas
partículas están almacenadas en el resto del archivo. La información y el
formato para cada partícula en el \textgood{cuerpo} del archivo se especifica en
la tabla~\ref{tab:file-body}.

\begin{table}[htbp]
\begin{center}
\begin{tabular}{|l|l|l|}
\hline
Campo & Tipo & Descripción\\
\hline
\hline

\textgood{px} & \textemph{Coma flotante} &
Coordenada x de la posición.\\
\hline
\textgood{py} & \textemph{Coma flotante} &
Coordenada y de la posición.\\
\hline
\textgood{pz} & \textemph{Coma flotante} &
Coordenada z de la posición.\\
\hline

\textgood{hvx} & \textemph{Coma flotante} &
Coordenada x del vector hv.\\
\hline
\textgood{hvy} & \textemph{Coma flotante} &
Coordenada y del vector hv.\\
\hline
\textgood{hvz} & \textemph{Coma flotante} &
Coordenada z del vector hv.\\
\hline

\textgood{vx} & \textemph{Coma flotante} &
Coordenada x de la velocidad.\\
\hline
\textgood{vy} & \textemph{Coma flotante} &
Coordenada y de la velocidad.\\
\hline
\textgood{vz} & \textemph{Coma flotante} &
Coordenada z de la velocidad.\\
\hline

\hline
\end{tabular}
\end{center}
\caption{Campos para cada partícula en el cuerpo del archivo.}
\label{tab:file-body}
\end{table}
